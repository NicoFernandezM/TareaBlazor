@page "/"
@inject NavigationManager navManager

<PageTitle>Login</PageTitle>

<h1>Iniciar sesión</h1>

@if (!IsAuthenticated)
{
    <form @onsubmit="HandleSubmit">
        <label for="username">Nombre de usuario:</label>
        <input type="text" id="username" @bind="Username" />

        <label for="password">Contraseña:</label>
        <input type="password" id="password" @bind="Password" />

        <button @onclick="NavigateToHome">Iniciar sesión</button>
        <NavLink href="register">Registrarse</NavLink>

    </form>
}

@code {
    private string Username { get; set; }
    private string Password { get; set; }
    private bool IsAuthenticated { get; set; }

    private async Task HandleSubmit()
    {
        if (!string.IsNullOrEmpty(Username) && !string.IsNullOrEmpty(Password))
        {
            IsAuthenticated = true;
        }
    }

    private void NavigateToHome()
    {
        navManager.NavigateTo("/home");
    }
}